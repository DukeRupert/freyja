{{/*
  Input Component - Catalyst UI Kit Style

  Usage:
    {{template "input" (dict "Name" "email" "Type" "email" "Placeholder" "you@example.com")}}

  Parameters:
    - Name: Input name attribute (required)
    - Type: text, email, password, number, date, etc. (default: "text")
    - Value: Input value
    - Placeholder: Placeholder text
    - Required: true/false
    - Disabled: true/false
    - ID: Input ID (defaults to Name)
    - Class: Additional CSS classes
    - Minlength: Minimum length validation
    - Pattern: Regex pattern for validation
    - Title: Validation message shown to user
    - Autofocus: Auto-focus on page load
    - Error: Error message to display (for server-side validation)
*/}}

{{define "input"}}
<input type="{{or .Type "text"}}"
       name="{{.Name}}"
       id="{{or .ID .Name}}"
       {{if .Value}}value="{{.Value}}"{{end}}
       {{if .Placeholder}}placeholder="{{.Placeholder}}"{{end}}
       {{if .Required}}required{{end}}
       {{if .Disabled}}disabled{{end}}
       {{if .Autofocus}}autofocus{{end}}
       {{if .Minlength}}minlength="{{.Minlength}}"{{end}}
       {{if .Pattern}}pattern="{{.Pattern}}"{{end}}
       {{if .Title}}title="{{.Title}}"{{end}}
       {{if .Error}}aria-invalid="true" aria-describedby="{{or .ID .Name}}-error"{{end}}
       class="{{template "input-classes" .}}">
{{end}}

{{define "input-classes"}}
{{/* Base input classes - Catalyst style */}}
relative block w-full appearance-none rounded-lg border
px-[calc(theme(spacing.3.5)-1px)] py-[calc(theme(spacing.2.5)-1px)]
sm:px-[calc(theme(spacing.3)-1px)] sm:py-[calc(theme(spacing.1.5)-1px)]
text-base/6 text-zinc-950 placeholder:text-zinc-500 sm:text-sm/6
{{if .Error}}
border-red-600 hover:border-red-700
dark:border-red-500 dark:hover:border-red-600
focus:outline-red-600
{{else}}
border-zinc-950/10 hover:border-zinc-950/20
dark:border-white/10 dark:hover:border-white/20
focus:outline focus:outline-2 focus:-outline-offset-1 focus:outline-blue-500
{{end}}
dark:text-white dark:placeholder:text-zinc-500
bg-transparent dark:bg-white/5
disabled:border-zinc-950/20 disabled:dark:border-white/15 disabled:dark:bg-white/[2.5%]
disabled:opacity-50 disabled:cursor-not-allowed
{{if .Class}}{{.Class}}{{end}}
{{end}}
