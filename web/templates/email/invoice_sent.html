{{define "email_title"}}Invoice {{.InvoiceNumber}} - Hiri Coffee{{end}}

{{define "email_content"}}
<h2>Invoice {{.InvoiceNumber}}</h2>

<p>Hi {{.CustomerName}},</p>

<p>
  Please find your invoice below. Payment is due {{if .DueDate}}by {{.DueDate.Format "January 2, 2006"}}{{else}}upon receipt{{end}}.
</p>

<p style="margin: 24px 0; padding: 16px; background-color: #f5f5f5; border-radius: 6px;">
  <strong>Invoice Number:</strong> {{.InvoiceNumber}}<br>
  <strong>Invoice Date:</strong> {{.InvoiceDate.Format "January 2, 2006"}}<br>
  {{if .DueDate}}<strong>Due Date:</strong> {{.DueDate.Format "January 2, 2006"}}<br>{{end}}
  <strong>Payment Terms:</strong> {{.PaymentTerms}}
</p>

<h3 style="margin-top: 32px; font-size: 18px;">Invoice Details</h3>

<table style="width: 100%; margin: 16px 0; border-collapse: collapse;">
  {{range .Items}}
  <tr style="border-bottom: 1px solid #e5e5e5;">
    <td style="padding: 12px 0;">
      <strong>{{.Description}}</strong>
    </td>
    <td style="padding: 12px 0; text-align: center;">
      <span style="color: #737373;">Qty: {{.Quantity}}</span>
    </td>
    <td style="padding: 12px 0; text-align: right;">
      ${{printf "%.2f" (divf .TotalCents 100)}}
    </td>
  </tr>
  {{end}}
</table>

<table style="width: 100%; margin: 24px 0;">
  <tr>
    <td style="text-align: right; padding: 4px 0; color: #737373;">Subtotal:</td>
    <td style="text-align: right; padding: 4px 0; width: 100px;">${{printf "%.2f" (divf .SubtotalCents 100)}}</td>
  </tr>
  {{if gt .ShippingCents 0}}
  <tr>
    <td style="text-align: right; padding: 4px 0; color: #737373;">Shipping:</td>
    <td style="text-align: right; padding: 4px 0;">${{printf "%.2f" (divf .ShippingCents 100)}}</td>
  </tr>
  {{end}}
  {{if gt .TaxCents 0}}
  <tr>
    <td style="text-align: right; padding: 4px 0; color: #737373;">Tax:</td>
    <td style="text-align: right; padding: 4px 0;">${{printf "%.2f" (divf .TaxCents 100)}}</td>
  </tr>
  {{end}}
  {{if gt .DiscountCents 0}}
  <tr>
    <td style="text-align: right; padding: 4px 0; color: #737373;">Discount:</td>
    <td style="text-align: right; padding: 4px 0;">-${{printf "%.2f" (divf .DiscountCents 100)}}</td>
  </tr>
  {{end}}
  <tr style="border-top: 2px solid #1a1a1a;">
    <td style="text-align: right; padding: 12px 0 4px 0; font-size: 18px; font-weight: 600;">Total Due:</td>
    <td style="text-align: right; padding: 12px 0 4px 0; font-size: 18px; font-weight: 600;">${{printf "%.2f" (divf .TotalCents 100)}}</td>
  </tr>
</table>

{{if .PaymentURL}}
<div style="text-align: center; margin: 32px 0;">
  <a href="{{.PaymentURL}}" class="button">Pay Invoice</a>
</div>
<p style="color: #737373; font-size: 14px; text-align: center;">
  Or copy this link: {{.PaymentURL}}
</p>
{{end}}

<div class="divider" style="margin: 32px 0;"></div>

<p style="color: #737373; font-size: 14px;">
  If you have any questions about this invoice, please contact us.
</p>
{{end}}
