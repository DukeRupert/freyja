{{define "title"}}{{if .PriceList.ID.Valid}}Edit Price List{{else}}New Price List{{end}}{{end}}

{{define "content"}}
<div class="mx-auto max-w-2xl space-y-8">
    <!-- Back Link -->
    <div>
        <a href="/admin/price-lists"
           class="inline-flex items-center gap-2 text-sm/6 text-zinc-500 hover:text-zinc-950 dark:text-zinc-400 dark:hover:text-white">
            ‚Üê Back to Price Lists
        </a>
    </div>

    <!-- Page Header -->
    {{template "page-header" (dict
        "Title" (ternary .PriceList.ID.Valid "Edit Price List" "New Price List")
        "Description" "")}}

    <!-- Form -->
    <form method="POST"
          action="{{if .PriceList.ID.Valid}}/admin/price-lists/{{.PriceList.ID}}/edit{{else}}/admin/price-lists/new{{end}}"
          class="space-y-6 rounded-2xl bg-white p-6 ring-1 ring-zinc-950/5 dark:bg-zinc-900 dark:ring-white/10">

        <!-- Name -->
        {{template "field" (dict
            "Label" "Name"
            "Required" true
            "Input" (dict
                "Type" "text"
                "ID" "name"
                "Name" "name"
                "Required" true
                "Value" .PriceList.Name
                "Placeholder" "e.g., Wholesale Tier 1"))}}

        <!-- Description -->
        {{template "field" (dict
            "Label" "Description"
            "Textarea" (dict
                "ID" "description"
                "Name" "description"
                "Rows" 3
                "Value" (ternary .PriceList.Description.Valid .PriceList.Description.String "")
                "Placeholder" "Description of this price list..."))}}

        <!-- List Type (only for new) -->
        {{if not .PriceList.ID.Valid}}
        <div>
            <label for="list_type" class="block text-sm font-medium text-zinc-950 dark:text-white">
                List Type
            </label>
            <select id="list_type"
                    name="list_type"
                    class="mt-2 block w-full rounded-lg border-zinc-950/10 bg-transparent px-3 py-2 text-zinc-950 shadow-sm ring-1 ring-inset ring-zinc-950/10 focus:ring-2 focus:ring-indigo-500 dark:border-white/10 dark:text-white dark:ring-white/10">
                <option value="custom">Custom</option>
                <option value="wholesale">Wholesale</option>
            </select>
            <p class="mt-1 text-sm text-zinc-500 dark:text-zinc-400">
                Only one default price list is allowed per store.
            </p>
        </div>
        {{else}}
        <div>
            <label class="block text-sm font-medium text-zinc-950 dark:text-white">List Type</label>
            <div class="mt-2">
                {{if eq .PriceList.ListType "default"}}
                    {{template "badge" (dict "Content" "Default" "Color" "blue")}}
                {{else if eq .PriceList.ListType "wholesale"}}
                    {{template "badge" (dict "Content" "Wholesale" "Color" "amber")}}
                {{else}}
                    {{template "badge" (dict "Content" "Custom" "Color" "zinc")}}
                {{end}}
                <span class="ml-2 text-xs text-zinc-500">(cannot be changed)</span>
            </div>
        </div>
        {{end}}

        <!-- Is Active -->
        <div class="flex items-center gap-3">
            <input type="checkbox"
                   id="is_active"
                   name="is_active"
                   {{if or (not .PriceList.ID.Valid) .PriceList.IsActive}}checked{{end}}
                   class="h-4 w-4 rounded border-zinc-300 text-indigo-600 focus:ring-indigo-500 dark:border-zinc-600">
            <label for="is_active" class="text-sm text-zinc-950 dark:text-white">
                Active
            </label>
        </div>

        <!-- Form Actions -->
        <div class="flex items-center justify-end gap-4 pt-4 border-t border-zinc-950/5 dark:border-white/5">
            <a href="/admin/price-lists"
               class="rounded-lg border border-zinc-950/10 px-4 py-2 text-sm font-medium text-zinc-950 hover:bg-zinc-50 dark:border-white/10 dark:text-white dark:hover:bg-zinc-800">
                Cancel
            </a>
            {{template "button" (dict
                "Content" (ternary .PriceList.ID.Valid "Save Changes" "Create Price List")
                "Type" "submit"
                "Variant" "solid"
                "Color" "indigo")}}
        </div>
    </form>
</div>
{{end}}
