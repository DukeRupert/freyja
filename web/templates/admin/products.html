{{template "admin/layout.html" .}}

{{define "title"}}Products{{end}}

{{define "content"}}
<div class="space-y-6">
    <!-- Page Header -->
    <div class="flex justify-between items-center">
        <div>
            <h2 class="text-2xl font-semibold text-neutral-900">Products</h2>
            <p class="text-neutral-600 mt-1">Manage your coffee products</p>
        </div>
        <a href="/admin/products/new" class="inline-flex items-center px-4 py-2 bg-teal-600 text-white text-sm font-medium rounded-md hover:bg-teal-700">
            Add Product
        </a>
    </div>

    <!-- Products List -->
    <div class="bg-white rounded-lg border border-neutral-200">
        <div class="overflow-x-auto">
            <table class="w-full">
                <thead class="bg-neutral-50">
                    <tr>
                        <th class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">Product</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">Origin</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">Roast</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">Status</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">Visibility</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-neutral-500 uppercase tracking-wider">Actions</th>
                    </tr>
                </thead>
                <tbody class="bg-white divide-y divide-neutral-200">
                    {{range .Products}}
                    <tr>
                        <td class="px-6 py-4">
                            <div class="flex items-center">
                                {{if .PrimaryImageUrl.Valid}}
                                <img src="{{.PrimaryImageUrl.String}}" alt="{{.Name}}" class="h-10 w-10 rounded object-cover mr-3">
                                {{else}}
                                <div class="h-10 w-10 rounded bg-neutral-200 mr-3"></div>
                                {{end}}
                                <div>
                                    <div class="text-sm font-medium text-neutral-900">{{.Name}}</div>
                                    <div class="text-sm text-neutral-500">{{.Slug}}</div>
                                </div>
                            </div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-neutral-900">
                            {{if .Origin.Valid}}{{.Origin.String}}{{else}}-{{end}}
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-neutral-900">
                            {{if .RoastLevel.Valid}}{{.RoastLevel.String}}{{else}}-{{end}}
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full
                                {{if eq .Status "active"}}bg-green-100 text-green-800
                                {{else if eq .Status "draft"}}bg-neutral-100 text-neutral-800
                                {{else}}bg-red-100 text-red-800{{end}}">
                                {{.Status}}
                            </span>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-neutral-900">
                            {{.Visibility}}
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                            <a href="/admin/products/{{.ID}}/edit" class="text-teal-600 hover:text-teal-700 mr-4">Edit</a>
                            <a href="/products/{{.Slug}}" target="_blank" class="text-neutral-600 hover:text-neutral-700">View</a>
                        </td>
                    </tr>
                    {{else}}
                    <tr>
                        <td colspan="6" class="px-6 py-4 text-center text-neutral-500">No products yet</td>
                    </tr>
                    {{end}}
                </tbody>
            </table>
        </div>
    </div>
</div>
{{end}}
